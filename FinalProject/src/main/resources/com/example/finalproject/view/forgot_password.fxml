<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.layout.*?>
<?import javafx.scene.control.*?>
<?import javafx.geometry.Insets?>

<StackPane xmlns:fx="http://javafx.com/fxml"
           fx:controller="com.example.finalproject.controller.ForgotPasswordController"
           prefWidth="900" prefHeight="650"
           stylesheets="@style.css">

    <!-- Main Container -->
    <VBox alignment="CENTER" spacing="0">

        <!-- Modern Auth Card -->
        <VBox alignment="CENTER" spacing="20" maxWidth="420" styleClass="auth-card">

            <!-- Header Section -->
            <VBox alignment="CENTER" spacing="8">
                <Label text="Reset Password" styleClass="title-label" style="-fx-text-fill: #667eea;"/>
                <Label text="Enter your email to receive a reset code" styleClass="subtitle-label"
                       style="-fx-font-size: 14px; -fx-text-fill: #718096; -fx-text-alignment: center;"/>
            </VBox>

            <Region prefHeight="10"/>

            <!-- Email Field -->
            <VBox spacing="6">
                <Label text="Email Address" style="-fx-font-size: 13px; -fx-font-weight: 600; -fx-text-fill: #4a5568;"/>
                <TextField fx:id="emailField"
                          promptText="Enter your email"
                          styleClass="text-field"
                          prefWidth="350"/>
            </VBox>

            <!-- Send OTP Button -->
            <Button text="Send Reset Code"
                    onAction="#onSendOtp"
                    prefWidth="350"
                    prefHeight="45"
                    style="-fx-font-size: 15px;"/>

            <!-- Divider -->
            <Separator prefWidth="350"/>

            <!-- OTP Field -->
            <VBox spacing="6">
                <Label text="Verification Code" style="-fx-font-size: 13px; -fx-font-weight: 600; -fx-text-fill: #4a5568;"/>
                <TextField fx:id="otpField"
                          promptText="Enter the code sent to your email"
                          styleClass="text-field"
                          prefWidth="350"/>
            </VBox>

            <!-- New Password Field -->
            <VBox spacing="6">
                <Label text="New Password" style="-fx-font-size: 13px; -fx-font-weight: 600; -fx-text-fill: #4a5568;"/>
                <PasswordField fx:id="newPasswordField"
                              promptText="Enter your new password"
                              styleClass="password-field"
                              prefWidth="350"/>
            </VBox>

            <!-- Message Label -->
            <Label fx:id="messageLabel" styleClass="error-label" visible="false" managed="false"/>

            <!-- Reset Password Button -->
            <Button text="Reset Password"
                    onAction="#onResetPassword"
                    styleClass="button-success"
                    prefWidth="350"
                    prefHeight="45"
                    style="-fx-font-size: 15px;"/>

            <!-- Divider -->
            <HBox alignment="CENTER" spacing="10" prefWidth="350">
                <Separator HBox.hgrow="ALWAYS"/>
                <Label text="or" style="-fx-text-fill: #a0aec0; -fx-font-size: 12px;"/>
                <Separator HBox.hgrow="ALWAYS"/>
            </HBox>

            <!-- Back to Login -->
            <HBox alignment="CENTER" spacing="6">
                <Label text="Remember your password?"
                       style="-fx-text-fill: #4a5568; -fx-font-size: 13px;"/>
                <Hyperlink text="Sign In"
                          onAction="#goBack"
                          style="-fx-font-size: 13px; -fx-font-weight: 600;"/>
            </HBox>

        </VBox>

        <!-- Footer -->
        <Label text="Â© 2025 ShopEase. All rights reserved."
               style="-fx-text-fill: rgba(255, 255, 255, 0.8); -fx-font-size: 12px; -fx-padding: 20 0 0 0;"/>

    </VBox>

</StackPane>
