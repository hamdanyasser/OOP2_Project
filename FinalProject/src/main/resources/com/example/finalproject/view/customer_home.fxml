<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.layout.*?>
<?import javafx.scene.control.*?>
<?import javafx.scene.image.*?>
<?import javafx.geometry.Insets?>

<BorderPane xmlns:fx="http://javafx.com/fxml"
            fx:controller="com.example.finalproject.controller.CustomerHomeController"
            prefWidth="1200" prefHeight="750"
            stylesheets="@style.css"
            fx:id="mainContainer">

    <!-- ðŸŽ¨ Modern Navigation Bar -->
    <top>
        <VBox spacing="0">
            <!-- Top Navbar -->
            <HBox spacing="20" alignment="CENTER_LEFT" styleClass="navbar">
                <!-- Logo/Brand -->
                <HBox spacing="10" alignment="CENTER_LEFT">
                    <Label text="ðŸ›ï¸" style="-fx-font-size: 28px;"/>
                    <Label text="ShopEase" styleClass="navbar-title"/>
                </HBox>

                <Region HBox.hgrow="ALWAYS"/>

                <!-- Search Bar -->
                <TextField fx:id="searchField"
                          promptText="ðŸ” Search products..."
                          styleClass="search-field"
                          prefWidth="300"/>

                <!-- Category Filter -->
                <ChoiceBox fx:id="categoryChoice"
                          prefWidth="150"
                          style="-fx-background-color: rgba(255,255,255,0.25); -fx-text-fill: white;"/>

                <!-- Reset Button -->
                <Button text="â†» Reset"
                       onAction="#onReset"
                       style="-fx-background-color: rgba(255,255,255,0.2);"/>

            </HBox>

            <!-- Secondary Navigation Bar -->
            <HBox spacing="12" alignment="CENTER_LEFT" styleClass="navbar" style="-fx-padding: 12 24 12 24;">

                <Region HBox.hgrow="ALWAYS"/>

                <!-- Cart Button with Badge -->
                <Button text="ðŸ›’ Cart"
                       onAction="#onViewCart"
                       style="-fx-background-color: rgba(255,255,255,0.2); -fx-font-size: 14px;"/>

                <!-- Wishlist Button -->
                <Button text="â¤ï¸ Wishlist"
                       onAction="#onWishlist"
                       style="-fx-background-color: rgba(255,255,255,0.2); -fx-font-size: 14px;"/>

                <!-- Orders Button -->
                <Button text="ðŸ“¦ Orders"
                       onAction="#onViewOrders"
                       style="-fx-background-color: rgba(255,255,255,0.2); -fx-font-size: 14px;"/>

                <!-- Profile Button -->
                <Button text="ðŸ‘¤ Profile"
                       onAction="#onProfile"
                       style="-fx-background-color: rgba(255,255,255,0.2); -fx-font-size: 14px;"/>

                <!-- Logout Button -->
                <Button text="ðŸšª Logout"
                       onAction="#onLogout"
                       styleClass="button-secondary"
                       style="-fx-background-color: rgba(245,101,101,0.3); -fx-text-fill: white; -fx-border-color: transparent;"/>

            </HBox>
        </VBox>
    </top>

    <!-- ðŸ›ï¸ Product Grid Section -->
    <center>
        <ScrollPane fitToWidth="true"
                   style="-fx-background-color: transparent;"
                   styleClass="scroll-pane">
            <VBox spacing="20" styleClass="product-grid">
                <!-- Header Section -->
                <VBox spacing="12" alignment="CENTER">
                    <Label text="Discover Amazing Products"
                           style="-fx-font-size: 28px; -fx-font-weight: 700; -fx-text-fill: #2d3748;"/>
                    <Label text="Browse through our curated collection of premium items"
                           style="-fx-font-size: 15px; -fx-text-fill: #718096;"/>
                </VBox>

                <!-- Product Grid Container -->
                <FlowPane fx:id="productGrid"
                         hgap="24" vgap="24"
                         alignment="CENTER"
                         prefWrapLength="1200">
                    <!-- Products will be dynamically added here -->
                </FlowPane>

                <!-- Empty State (when no products) -->
                <VBox fx:id="emptyState" alignment="CENTER" spacing="16"
                      visible="false" managed="false"
                      style="-fx-padding: 60 0 60 0;">
                    <Label text="ðŸ“¦"
                           style="-fx-font-size: 72px;"/>
                    <Label text="No products found"
                           style="-fx-font-size: 24px; -fx-font-weight: 600; -fx-text-fill: #4a5568;"/>
                    <Label text="Try adjusting your search or filters"
                           style="-fx-font-size: 14px; -fx-text-fill: #a0aec0;"/>
                </VBox>

            </VBox>
        </ScrollPane>
    </center>

    <!-- ðŸ“„ Pagination Section -->
    <bottom>
        <HBox alignment="CENTER" spacing="16" styleClass="white-card"
              style="-fx-padding: 20; -fx-background-radius: 0; -fx-border-radius: 0; -fx-effect: dropshadow(gaussian, rgba(0, 0, 0, 0.1), 15, 0, 0, -5);">

            <!-- Previous Button -->
            <Button text="â® Previous"
                   fx:id="prevBtn"
                   onAction="#onPrevPage"
                   styleClass="button-secondary"
                   prefWidth="120"/>

            <!-- Page Info -->
            <VBox alignment="CENTER" spacing="4">
                <Label fx:id="pageLabel"
                      text="Page 1"
                      style="-fx-font-size: 16px; -fx-font-weight: 600; -fx-text-fill: #2d3748;"/>
                <Label text="Browse products"
                       style="-fx-font-size: 12px; -fx-text-fill: #a0aec0;"/>
            </VBox>

            <!-- Next Button -->
            <Button text="Next â­"
                   fx:id="nextBtn"
                   onAction="#onNextPage"
                   styleClass="button-secondary"
                   prefWidth="120"/>

        </HBox>
    </bottom>

</BorderPane>
